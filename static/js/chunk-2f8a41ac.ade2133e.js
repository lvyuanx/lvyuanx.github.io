(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f8a41ac"],{6309:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("nav-top-bar",{attrs:{title:"健康打卡",leftArrow:!0,rightArrow:!0}}),i("van-form",{on:{submit:t.onSubmit}},[i("van-field",{attrs:{name:"体温",label:"体温",placeholder:"请输入当前体温",rules:[{required:!0,message:"当前体温不能为空"}]},model:{value:t.CommunityTemperatureRegistration.temperature,callback:function(e){t.$set(t.CommunityTemperatureRegistration,"temperature",e)},expression:"CommunityTemperatureRegistration.temperature"}}),i("van-field",{attrs:{name:"登记地点",label:"登记地点",placeholder:"请输入当登记地点",rules:[{required:!0,message:"当前登记地点不能为空"}]},model:{value:t.CommunityTemperatureRegistration.registrationPlace,callback:function(e){t.$set(t.CommunityTemperatureRegistration,"registrationPlace",e)},expression:"CommunityTemperatureRegistration.registrationPlace"}}),i("van-field",{attrs:{name:"switch",label:"进入高风险区"},scopedSlots:t._u([{key:"input",fn:function(){return[i("van-switch",{staticStyle:{"margin-left":"10px"},attrs:{size:"20"},model:{value:t.switchCheckedIsToHighRisk,callback:function(e){t.switchCheckedIsToHighRisk=e},expression:"switchCheckedIsToHighRisk"}}),t._v(" "),i("span",{staticStyle:{color:"#c8c9cc"}},[t._v("14天内到访高风险地区")])]},proxy:!0}])}),t.switchCheckedIsToHighRisk?i("van-field",{attrs:{name:"高风险地区",label:"高风险地区",placeholder:"高风险地区",rules:[{required:!0,message:"高风险地区不能为空"}]},model:{value:t.CommunityTemperatureRegistration.toHighRiskAddress,callback:function(e){t.$set(t.CommunityTemperatureRegistration,"toHighRiskAddress",e)},expression:"CommunityTemperatureRegistration.toHighRiskAddress"}}):t._e(),i("van-field",{attrs:{disabled:"",name:"健康打卡天数",label:"健康打卡天数"},model:{value:t.CommunityTemperatureRegistration.continuous,callback:function(e){t.$set(t.CommunityTemperatureRegistration,"continuous",e)},expression:"CommunityTemperatureRegistration.continuous"}}),i("van-field",{attrs:{disabled:"",name:"打卡时间",label:"打卡时间"},model:{value:t.CommunityTemperatureRegistration.createTime,callback:function(e){t.$set(t.CommunityTemperatureRegistration,"createTime",e)},expression:"CommunityTemperatureRegistration.createTime"}}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",disabled:t.onSubmitDisabled,block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},r=[],a=i("a5d7"),o=i("7c15"),s={name:"TemperatureRegistration",components:{NavTopBar:a["a"]},data:function(){return{CommunityTemperatureRegistration:{temperature:null,registrationPlace:"",isToHighRisk:0,toHighRiskAddress:"",continuous:0,createTime:""},switchCheckedIsToHighRisk:!1,onSubmitDisabled:!1}},computed:{isChecked:function(){this.switchCheckedIsToHighRisk?this.CommunityTemperatureRegistration.isToHighRisk=1:this.CommunityTemperatureRegistration.isToHighRisk=0}},mounted:function(){this.continuousDay();var t=this;this.timer=setInterval((function(){t.CommunityTemperatureRegistration.createTime=t.dateFormat(new Date)}),1e3)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{onSubmit:function(){var t=this;this.CommunityTemperatureRegistration.temperature>=37.5?this.$dialog.confirm({title:"高温预警",message:"你的体温异常，是否继续提交"}).then((function(){t.uploadForm()})).catch((function(){})):this.uploadForm()},uploadForm:function(){var t=this;Object(o["a"])({},this.CommunityTemperatureRegistration).then((function(e){200==e.code?(t.$toast.success("打卡成功"),t.onSubmitDisabled=!0,t.continuousDay()):t.$toast.fail("打卡失败")}))},dateFormat:function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate(),a=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return i+"-"+n+"-"+r+" "+a+":"+o+":"+s},continuousDay:function(){var t=this;Object(o["h"])().then((function(e){200===e.code?t.CommunityTemperatureRegistration.continuous=e.data:t.$toast("查询连续打卡天数失败")}))}}},u=s,c=i("2877"),l=Object(c["a"])(u,n,r,!1,null,null,null);e["default"]=l.exports},a5d7:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-sticky",{attrs:{"offset-top":0}},[i("van-nav-bar",{attrs:{title:t.title,"left-text":t.leftText,"left-arrow":t.leftArrow,fixed:"",placeholder:""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([t.rightArrow?{key:"right",fn:function(){return[i("van-icon",{attrs:{name:"wap-home-o",size:"18"}})]},proxy:!0}:null],null,!0)})],1)},r=[],a=(i("ac1f"),i("5319"),{name:"NavTopBar",props:["title","leftArrow","rightArrow"],data:function(){return{leftTextStr:"返回"}},methods:{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.replace({name:"home"})}},computed:{leftText:function(){return this.leftArrow?this.leftTextStr:""}}}),o=a,s=i("2877"),u=Object(s["a"])(o,n,r,!1,null,"72fa6fb3",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-2f8a41ac.ade2133e.js.map